# 📋 재고이동 CSV 양식 가이드

## 📁 파일 목록

### 1. `stock-movement-blank.csv` (권장)
**빈 양식** - 직접 입력할 때 사용합니다.

#### 필수 컬럼:
| 컬럼명 | 설명 | 예시 | 필수여부 |
|--------|------|------|---------|
| `이동번호` | 재고이동 요청 번호 | TRF-20251111-0001 | ✅ |
| `상품명` | 상품의 한글 이름 | 노트북 | ✅ |
| `상품코드` | 상품 코드 | PRD-00001 | ✅ |
| `바코드` | 상품 바코드 | 8801234567890 | ✅ |
| `옵션` | 상품 옵션 (색상, 사이즈 등) | 검정, 흰색 | ✅ |
| `수량` | 이동할 수량 (숫자만) | 10 | ✅ |
| `출발지` | 출발 로케이션 코드 | A-01-01-1-1 | ✅ |
| `목적지` | 도착 로케이션 코드 | C-03-03-3-1 | ✅ |
| `단가` | 상품 단가 | 1500000 | ✅ |
| `비고` | 추가 메모 | 정상상품 | ❌ |

---

### 2. `stock-movement-template-detail.csv`
**상세 양식** - 구간별 로케이션 정보를 분리해서 입력합니다.

#### 추가 컬럼:
| 컬럼명 | 설명 | 예시 |
|--------|------|------|
| `출발지_구역` | 출발 구역 | A, B, C |
| `출발지_통로` | 출발 통로/아일 | 01, 02, 03 |
| `출발지_랙` | 출발 랙 | 01, 02, 03 |
| `출발지_선반` | 출발 선반 | 1, 2, 3 |
| `출발지_빈` | 출발 빈 | 1, 2, 3, 4, 5 |
| `목적지_구역` | 도착 구역 | A, B, C |
| `목적지_통로` | 도착 통로/아일 | 01, 02, 03 |
| `목적지_랙` | 도착 랙 | 01, 02, 03 |
| `목적지_선반` | 도착 선반 | 1, 2, 3 |
| `목적지_빈` | 도착 빈 | 1, 2, 3, 4, 5 |
| `합계금액` | 수량 × 단가 | 15000000 |
| `이동사유` | 이동 이유 | 정기이동, 수급조정, 긴급이동 |
| `담당자` | 담당 직원 이름 | 김담당, 이담당 |
| `예정날짜` | 이동 예정일 | 2025-11-12 |

---

## 📝 입력 규칙

### 필수 입력 정보
```
✅ 이동번호 (중복 안됨)
✅ 상품 정보 (상품명, 코드, 바코드)
✅ 수량 (1 이상의 숫자)
✅ 로케이션 (출발지, 목적지)
✅ 단가 (숫자)
```

### 로케이션 코드 형식
```
기본 형식: 구역-통로-랙-선반-빈
예시: A-01-01-1-1
     └─┬──┬──┬─┬─
       │  │  │ │ └─ 빈 (1~5)
       │  │  │ └─── 선반 (1~3)
       │  │  └───── 랙 (01~03)
       │  └──────── 통로/아일 (01~03)
       └─────────── 구역 (A, B, C, ...)
```

### 옵션 입력 예시
- 색상: 검정, 흰색, 회색, 빨강, 파랑
- 크기: S, M, L, XL
- 복합: 검정-L, 흰색-M

### 날짜 형식
```
YYYY-MM-DD
예시: 2025-11-12
```

---

## 🔍 유효성 검사

### 시스템이 자동으로 확인합니다:
1. **중복 확인**: 같은 이동번호가 이미 존재하는지
2. **상품 존재 여부**: 상품코드와 바코드 매칭
3. **로케이션 유효성**: 출발지, 목적지가 실제 존재하는지
4. **수량 범위**: 1~999
5. **숫자 필드**: 단가, 수량이 숫자인지
6. **필수 필드**: 모든 필수 항목이 입력되었는지

---

## 📊 예시 데이터 해석

### 간단 양식 예시
```csv
이동번호,상품명,상품코드,바코드,옵션,수량,출발지,목적지,단가,비고
TRF-20251111-0001,노트북,PRD-00001,8801234567890,검정,10,A-01-01-1-1,C-03-03-3-1,1500000,
```

**의미**:
- 이동번호: TRF-20251111-0001
- 상품: 검정색 노트북 (PRD-00001)
- 수량: 10개
- 출발지: 구역A → 통로01 → 랙01 → 선반1 → 빈1
- 목적지: 구역C → 통로03 → 랙03 → 선반3 → 빈1
- 금액: 1,500,000원 × 10개 = 15,000,000원

---

## 💾 사용 방법

### 1단계: 파일 다운로드
- `stock-movement-blank.csv` 다운로드 (빈 양식)
- 또는 `stock-movement-template.csv` 참고 (예시 포함)

### 2단계: Excel에서 편집
1. CSV 파일을 Excel에서 열기
2. 행을 추가하여 데이터 입력
3. UTF-8 인코딩으로 저장

### 3단계: 시스템에 업로드
1. WMS 시스템 → 재고이동 → "CSV 일괄 업로드"
2. 파일 선택
3. "유효성 검사" 클릭
4. 오류 확인 후 "업로드" 클릭

---

## ⚠️ 주의사항

### 금지 사항
- ❌ 실제 존재하지 않는 로케이션
- ❌ 현재고보다 많은 수량
- ❌ 빈 셀 (필수 항목은 반드시 입력)
- ❌ 특수문자 포함 (단가는 숫자만)

### 권장사항
- ✅ 로케이션 코드 대문자 통일 (A-01, 불가 a-01)
- ✅ 바코드는 13자리 통일
- ✅ 상품코드 형식 통일 (PRD-00001)
- ✅ 한 번에 100개 이상 업로드 시 나누기

---

## 📞 자주 묻는 질문 (FAQ)

### Q1: 같은 상품을 다른 출발지에서 이동하려면?
**A**: 행을 따로 추가하세요.
```csv
TRF-20251111-0001,노트북,PRD-00001,8801234567890,검정,10,A-01-01-1-1,C-03-03-3-1,1500000
TRF-20251111-0001,노트북,PRD-00001,8801234567890,검정,5,B-02-02-2-1,C-03-03-3-1,1500000
```

### Q2: 여러 목적지로 이동하려면?
**A**: 각 목적지별로 행을 추가하세요.
```csv
TRF-20251111-0002,마우스,PRD-00002,8801234567891,흰색,10,A-01-01-1-2,C-03-03-3-1,50000
TRF-20251111-0002,마우스,PRD-00002,8801234567891,흰색,10,A-01-01-1-2,D-04-04-4-1,50000
```

### Q3: CSV 파일이 깨진다면?
**A**: 
1. Excel 대신 Google Sheets 사용
2. "다른 이름으로 저장" → CSV UTF-8 선택
3. 메모장에서 직접 편집

### Q4: 오류 메시지가 뜬다면?
**A**: 
- "상품을 찾을 수 없습니다" → 상품코드/바코드 확인
- "로케이션이 없습니다" → 출발지/목적지 코드 확인 (대문자?)
- "수량이 없습니다" → 빈 셀 확인

---

## 📥 생성된 파일 위치

```
/Users/sotatekthor/Desktop/wms-wf/
├── stock-movement-blank.csv         ← 빈 양식 (추천)
├── stock-movement-template.csv      ← 간단한 예시
├── stock-movement-template-detail.csv ← 상세 예시
└── stock-movement-csv-guide.md      ← 이 파일
```

---

**작성일**: 2025-11-11  
**버전**: 1.0
