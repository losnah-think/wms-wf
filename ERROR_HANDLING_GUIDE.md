# WMS ì—ëŸ¬ ì²˜ë¦¬ ì‹œìŠ¤í…œ ì‚¬ìš© ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

WMS ì‹œìŠ¤í…œì˜ í¬ê´„ì ì¸ ì—ëŸ¬ ì²˜ë¦¬ ë° ì—ëŸ¬ í˜ì´ì§€ êµ¬í˜„ì…ë‹ˆë‹¤. HTTP ìƒíƒœ ì½”ë“œ, WMS íŠ¹í™” ì—ëŸ¬, 3ê°œ ì–¸ì–´ ì§€ì› (í•œêµ­ì–´, ì˜ì–´, ë² íŠ¸ë‚¨ì–´)

## ğŸ¯ ì—ëŸ¬ í˜ì´ì§€ êµ¬ì¡°

### 1. ìë™ìœ¼ë¡œ ì²˜ë¦¬ë˜ëŠ” ì—ëŸ¬ í˜ì´ì§€

#### 404 - Page Not Found (í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ)
- **íŒŒì¼**: `/app/[locale]/not-found.tsx`
- **ìƒí™©**:
  - ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ë¡œ ì ‘ê·¼
  - ì‚­ì œëœ ë¦¬ì†ŒìŠ¤ ì¡°íšŒ
  - ë§Œë£Œëœ ì£¼ë¬¸/ë°°ì†¡ ì •ë³´ ì¡°íšŒ
- **í‘œì‹œ ë‚´ìš©**: 404 ì—ëŸ¬, ì›ì¸ ì„¤ëª…, í™ˆ/ëŒ€ì‹œë³´ë“œ ì´ë™ ë²„íŠ¼
- **ì•„ì´ì½˜**: ğŸ”

#### 500 - Server Error (ì„œë²„ ì˜¤ë¥˜)
- **íŒŒì¼**: `/app/[locale]/error.tsx`
- **ìƒí™©**:
  - ì˜ˆìƒì¹˜ ëª»í•œ ì„œë²„ ì—ëŸ¬
  - ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ì‹¤íŒ¨
  - ì„œë²„ í”„ë¡œì„¸ìŠ¤ ì—ëŸ¬
- **í‘œì‹œ ë‚´ìš©**: 500 ì—ëŸ¬, ì—ëŸ¬ ë©”ì‹œì§€, ë‹¤ì‹œ ì‹œë„ ë²„íŠ¼, ì—ëŸ¬ ID
- **ì•„ì´ì½˜**: ğŸ’¥

### 2. íŠ¹ì • HTTP ìƒíƒœ ì½”ë“œ ë§¤í•‘

| ìƒíƒœ | ì•„ì´ì½˜ | ìƒí™© | ê¶Œì¥ ì•¡ì…˜ |
|------|--------|------|--------|
| **400** | âŒ | ì˜ëª»ëœ ìš”ì²­ (í˜•ì‹ ì˜¤ë¥˜) | ì…ë ¥ê°’ í™•ì¸ í›„ ì¬ì‹œë„ |
| **401** | ğŸ” | ì¸ì¦ í•„ìš” (ë¡œê·¸ì¸ í•„ìš”) | ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™ |
| **403** | ğŸš« | ì ‘ê·¼ ê±°ë¶€ (ê¶Œí•œ ì—†ìŒ) | ê´€ë¦¬ì ë¬¸ì˜ |
| **404** | ğŸ” | í˜ì´ì§€/ë¦¬ì†ŒìŠ¤ ì—†ìŒ | í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸° |
| **408** | â±ï¸ | ìš”ì²­ ì‹œê°„ ì´ˆê³¼ | ë‹¤ì‹œ ì‹œë„ |
| **409** | âš ï¸ | ì¶©ëŒ ë°œìƒ | ë‚˜ì¤‘ì— ì¬ì‹œë„ |
| **410** | ğŸ—‘ï¸ | ë¦¬ì†ŒìŠ¤ ì‚­ì œë¨ | ë‹¤ë¥¸ ë¦¬ì†ŒìŠ¤ í™•ì¸ |
| **422** | ğŸ“‹ | ë°ì´í„° ê²€ì¦ ì‹¤íŒ¨ | í•„ë“œ í™•ì¸ í›„ ìˆ˜ì • |
| **429** | â³ | ìš”ì²­ ì œí•œ ì´ˆê³¼ | ì ì‹œ í›„ ì¬ì‹œë„ |
| **500** | ğŸ’¥ | ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜ | ë‹¤ì‹œ ì‹œë„/ì§€ì›íŒ€ ë¬¸ì˜ |
| **502** | ğŸŒ‰ | ê²Œì´íŠ¸ì›¨ì´ ì˜¤ë¥˜ | ì ì‹œ í›„ ì¬ì‹œë„ |
| **503** | ğŸ”§ | ì„œë¹„ìŠ¤ ì ê²€ ì¤‘ | ë‚˜ì¤‘ì— ë‹¤ì‹œ ë°©ë¬¸ |
| **504** | â²ï¸ | ê²Œì´íŠ¸ì›¨ì´ ì‹œê°„ ì´ˆê³¼ | ë‹¤ì‹œ ì‹œë„ |

## ğŸ›  WMS íŠ¹í™” ì—ëŸ¬ ì½”ë“œ

### ì¬ê³  ê´€ë¦¬ ì—ëŸ¬ (WMS-1xxx)
```typescript
WMS-1001: INVENTORY_NOT_FOUND      // "ìš”ì²­í•œ ì¬ê³ ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
WMS-1002: INSUFFICIENT_STOCK       // "ì¬ê³ ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤"
WMS-1003: INVALID_SKU_FORMAT       // "ìœ íš¨í•˜ì§€ ì•Šì€ ìƒí’ˆ ì½”ë“œ í˜•ì‹ì…ë‹ˆë‹¤"
WMS-1004: STOCK_LOCKED             // "í˜„ì¬ ì²˜ë¦¬ ì¤‘ì¸ ì¬ê³ ì…ë‹ˆë‹¤"
WMS-1005: EXPIRY_EXCEEDED          // "ìœ í†µê¸°í•œì´ ì´ˆê³¼ëœ ìƒí’ˆì…ë‹ˆë‹¤"
```

**ìƒí™©ë³„ ì²˜ë¦¬:**
- ì¬ê³  ë¶€ì¡± â†’ ì¶”ê°€ ì…ê³  ìš”ì²­ ì œì•ˆ
- SKU í˜•ì‹ ì˜¤ë¥˜ â†’ ì˜¬ë°”ë¥¸ í˜•ì‹ ì•ˆë‚´
- ìœ í†µê¸°í•œ ì´ˆê³¼ â†’ ë°˜í’ˆ í”„ë¡œì„¸ìŠ¤ ì•ˆë‚´

### ì£¼ë¬¸ ê´€ë¦¬ ì—ëŸ¬ (WMS-2xxx)
```typescript
WMS-2001: ORDER_NOT_FOUND          // "ìš”ì²­í•œ ì£¼ë¬¸ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
WMS-2002: ORDER_LOCKED             // "ë‹¤ë¥¸ ì‚¬ìš©ìê°€ í˜„ì¬ ì£¼ë¬¸ì„ ì²˜ë¦¬ ì¤‘ì…ë‹ˆë‹¤"
WMS-2003: ORDER_ALREADY_SHIPPED    // "ì´ë¯¸ ë°°ì†¡ëœ ì£¼ë¬¸ì…ë‹ˆë‹¤"
WMS-2004: PARTIAL_SHIPMENT         // "ë¶€ë¶„ ë°°ì†¡ì´ í•„ìš”í•©ë‹ˆë‹¤"
WMS-2005: ORDER_CANCELLED          // "ì·¨ì†Œëœ ì£¼ë¬¸ì…ë‹ˆë‹¤"
```

**ìƒí™©ë³„ ì²˜ë¦¬:**
- ì£¼ë¬¸ ì ê¸ˆ â†’ ëŒ€ê¸° í›„ ì¬ì‹œë„ ì œì•ˆ
- ì´ë¯¸ ë°°ì†¡ â†’ ë°°ì†¡ ì¶”ì  ë§í¬ ì œê³µ
- ë¶€ë¶„ ë°°ì†¡ â†’ ë¶„í•  ë°°ì†¡ ì˜µì…˜ ì œì‹œ

### ë°°ì†¡ ê´€ë¦¬ ì—ëŸ¬ (WMS-3xxx)
```typescript
WMS-3001: CARRIER_UNAVAILABLE      // "ë°°ì†¡ì—…ì²´ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
WMS-3002: ADDRESS_INVALID          // "ìœ íš¨í•˜ì§€ ì•Šì€ ë°°ì†¡ ì£¼ì†Œì…ë‹ˆë‹¤"
WMS-3003: WEIGHT_EXCEEDED          // "ìƒí’ˆì˜ ë¬´ê²Œê°€ ì œí•œì„ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤"
WMS-3004: SHIPPING_FAILED          // "ë°°ì†¡ ìš”ì²­ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤"
```

**ìƒí™©ë³„ ì²˜ë¦¬:**
- ë°°ì†¡ì—…ì²´ ë¶ˆê°€ â†’ ëŒ€ì²´ ë°°ì†¡ì—…ì²´ ì˜µì…˜
- ì£¼ì†Œ ê²€ì¦ ì‹¤íŒ¨ â†’ ì£¼ì†Œ ì¬ì…ë ¥
- ë¬´ê²Œ ì´ˆê³¼ â†’ ë¶„í•  ë°°ì†¡ ì œì•ˆ

### ê¶Œí•œ/ì¸ì¦ ì—ëŸ¬ (WMS-4xxx)
```typescript
WMS-4001: UNAUTHORIZED             // "ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤"
WMS-4002: INSUFFICIENT_PERMISSION  // "ì´ ì‘ì—…ì„ ìˆ˜í–‰í•  ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤"
WMS-4003: SESSION_EXPIRED          // "ì„¸ì…˜ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤"
WMS-4004: IP_BLOCKED               // "ì°¨ë‹¨ëœ IP ì£¼ì†Œì…ë‹ˆë‹¤"
```

**ìƒí™©ë³„ ì²˜ë¦¬:**
- ì„¸ì…˜ ë§Œë£Œ â†’ ìë™ ë¡œê·¸ì¸ í˜ì´ì§€ ì´ë™
- ê¶Œí•œ ë¶€ì¡± â†’ ê´€ë¦¬ì ê¶Œí•œ ìš”ì²­ ì•ˆë‚´
- IP ì°¨ë‹¨ â†’ ë³´ì•ˆíŒ€ ë¬¸ì˜

### ë°ì´í„° ì—ëŸ¬ (WMS-5xxx)
```typescript
WMS-5001: DUPLICATE_ENTRY          // "ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ë°ì´í„°ì…ë‹ˆë‹¤"
WMS-5002: REFERENCE_INTEGRITY_ERROR // "ì°¸ì¡° ê´€ê³„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤"
WMS-5003: DATA_CORRUPTED           // "ì†ìƒëœ ë°ì´í„°ì…ë‹ˆë‹¤"
WMS-5004: DATABASE_ERROR           // "ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤"
```

**ìƒí™©ë³„ ì²˜ë¦¬:**
- ì¤‘ë³µ ë°ì´í„° â†’ ê¸°ì¡´ ë°ì´í„° ìˆ˜ì • ì˜µì…˜
- ë°ì´í„° ì†ìƒ â†’ ê´€ë¦¬ì ë³µêµ¬ ìš”ì²­
- DB ì—°ê²° ì‹¤íŒ¨ â†’ ì¬ì‹œë„ ë˜ëŠ” ë‚˜ì¤‘ì— ë°©ë¬¸ ì œì•ˆ

### ì‹œìŠ¤í…œ ì—ëŸ¬ (WMS-6xxx)
```typescript
WMS-6001: SERVICE_UNAVAILABLE      // "ì„œë¹„ìŠ¤ê°€ ì¼ì‹œì ìœ¼ë¡œ ì‚¬ìš© ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤"
WMS-6002: MAINTENANCE_MODE         // "í˜„ì¬ ì‹œìŠ¤í…œ ì ê²€ ì¤‘ì…ë‹ˆë‹¤"
WMS-6003: RATE_LIMIT_EXCEEDED      // "ë„ˆë¬´ ë§ì€ ìš”ì²­ì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤"
WMS-6004: TIMEOUT                  // "ìš”ì²­ ì²˜ë¦¬ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤"
```

**ìƒí™©ë³„ ì²˜ë¦¬:**
- ì ê²€ ì¤‘ â†’ ì˜ˆìƒ ì¢…ë£Œ ì‹œê°„ í‘œì‹œ
- ìš”ì²­ ì œí•œ â†’ ì ì‹œ í›„ ì¬ì‹œë„ ì œì•ˆ
- íƒ€ì„ì•„ì›ƒ â†’ ì—°ê²° ìƒíƒœ í™•ì¸ í›„ ì¬ì‹œë„

## ğŸ’» ì½”ë“œ ì‚¬ìš© ì˜ˆì‹œ

### 1. ì—ëŸ¬ ìƒì„± ë° ë˜ì§€ê¸°

```typescript
// lib/error-handler.ts í™œìš©
import { createWMSError, WMSErrorCode, logError } from '@/lib/error-handler'

// ì¬ê³  ë¶€ì¡± ì—ëŸ¬ ìƒì„±
const error = createWMSError(
  WMSErrorCode.INSUFFICIENT_STOCK,
  'Not enough inventory',
  422,
  { available: 5, required: 10 }
)

// ì—ëŸ¬ ë¡œê¹…
logError(error)

// ì—ëŸ¬ ë˜ì§€ê¸°
throw new Error(JSON.stringify(error))
```

### 2. ì»´í¬ë„ŒíŠ¸ì—ì„œ ì—ëŸ¬ ì²˜ë¦¬

```typescript
'use client'

import { ErrorPage } from '@/components/ErrorPages'
import { useState } from 'react'

export default function InventoryPage() {
  const [error, setError] = useState(null)

  const handleRetry = async () => {
    try {
      // ì¬ì‹œë„ ë¡œì§
    } catch (err) {
      setError(err)
    }
  }

  if (error) {
    return (
      <ErrorPage
        code={error.statusCode}
        errorId={error.errorId}
        details={error.message}
        showRetry={true}
        onRetry={handleRetry}
      />
    )
  }

  return <div>Inventory Content</div>
}
```

### 3. API ë¼ìš°íŠ¸ì—ì„œ ì—ëŸ¬ ì²˜ë¦¬

```typescript
// app/api/inventory/[id]/route.ts
import { createWMSError, WMSErrorCode } from '@/lib/error-handler'

export async function GET(request: Request, { params }: { params: { id: string } }) {
  try {
    // ì¬ê³  ì¡°íšŒ
    const inventory = await getInventory(params.id)

    if (!inventory) {
      const error = createWMSError(
        WMSErrorCode.INVENTORY_NOT_FOUND,
        'Inventory not found',
        404
      )
      return Response.json(error, { status: 404 })
    }

    return Response.json(inventory)
  } catch (err) {
    const error = createWMSError(
      WMSErrorCode.DATABASE_ERROR,
      'Database connection failed',
      500
    )
    return Response.json(error, { status: 500 })
  }
}
```

### 4. ì¬ì‹œë„ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸

```typescript
import { isRetryable, WMSErrorCode } from '@/lib/error-handler'

// ì¬ì‹œë„ ê°€ëŠ¥í•œ ì—ëŸ¬
if (isRetryable(WMS-6004)) { // TIMEOUT
  // ìë™ ì¬ì‹œë„ ë¡œì§
}

// ì¬ì‹œë„ ë¶ˆê°€ëŠ¥í•œ ì—ëŸ¬
if (!isRetryable(WMS-1003)) { // INVALID_SKU_FORMAT
  // ìˆ˜ë™ ìˆ˜ì • í•„ìš”
}
```

### 5. ì—ëŸ¬ ì‹¬ê°ë„ í™•ì¸

```typescript
import { getErrorSeverity, ErrorSeverity, WMSErrorCode } from '@/lib/error-handler'

const severity = getErrorSeverity(WMSErrorCode.DATA_CORRUPTED)

if (severity === ErrorSeverity.CRITICAL) {
  // ê¸´ê¸‰ ì•Œë¦¼ ì „ì†¡
  alertAdministrators(error)
  // ê´€ë¦¬ì í˜ì´ì§€ë¡œ ì´ë™
}
```

## ğŸŒ ë‹¤êµ­ì–´ ì§€ì›

ëª¨ë“  ì—ëŸ¬ ë©”ì‹œì§€ëŠ” ë‹¤ìŒ ì–¸ì–´ë¡œ ìë™ ë²ˆì—­ë©ë‹ˆë‹¤:
- ğŸ‡°ğŸ‡· í•œêµ­ì–´ (ko.json)
- ğŸ‡ºğŸ‡¸ ì˜ì–´ (en.json)
- ğŸ‡»ğŸ‡³ ë² íŠ¸ë‚¨ì–´ (vi.json)

```typescript
// ìë™ìœ¼ë¡œ ì‚¬ìš©ìì˜ ì–¸ì–´ ì„¤ì •ì— ë§ì¶° í‘œì‹œë¨
const errorMessage = t('error.404.title')  // "Page Not Found" or "í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
```

## ğŸ“Š ì—ëŸ¬ ëª¨ë‹ˆí„°ë§

### ì—ëŸ¬ IDë¡œ ì¶”ì 
- ëª¨ë“  ì—ëŸ¬ëŠ” ê³ ìœ  ID ìƒì„±: `WMS-1001-A1B2C3D4`
- ì‚¬ìš©ìê°€ ì—ëŸ¬ IDë¥¼ ì§€ì›íŒ€ì— ì œê³µí•˜ë©´ ì‹ ì†í•œ ì²˜ë¦¬ ê°€ëŠ¥

### ì—ëŸ¬ ë¡œê¹…
```typescript
logError(error)
// ì½˜ì†”ì— ì¶œë ¥ + í”„ë¡œë•ì…˜ì—ì„œëŠ” ì™¸ë¶€ ì„œë¹„ìŠ¤ë¡œ ì „ì†¡
```

## ğŸ¨ ì—ëŸ¬ í˜ì´ì§€ ì»¤ìŠ¤í„°ë§ˆì´ì§•

### ì—ëŸ¬ í˜ì´ì§€ ìŠ¤íƒ€ì¼
- íŒŒì¼: `/components/ErrorPages.module.css`
- ë°˜ì‘í˜• ë””ìì¸ ì§€ì› (ëª¨ë°”ì¼, íƒœë¸”ë¦¿, ë°ìŠ¤í¬íƒ‘)
- ë‹¤í¬ëª¨ë“œ ì§€ì› ê°€ëŠ¥

### ì»¬ëŸ¬ ìŠ¤í‚´
- ì£¼ ì»¬ëŸ¬: í¼í”Œ (#667eea)
- ë³´ì¡° ì»¬ëŸ¬: ë¼ì´íŠ¸ ê·¸ë ˆì´ (#ecf0f1)
- ì—ëŸ¬ ì»¬ëŸ¬: ë ˆë“œ (#e74c3c)

## ğŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸

ì—ëŸ¬ ì²˜ë¦¬ êµ¬í˜„ ì‹œ í™•ì¸ ì‚¬í•­:

- [ ] ì—ëŸ¬ íƒ€ì…ì— ë§ëŠ” WMS ì—ëŸ¬ ì½”ë“œ ì„ íƒ
- [ ] ì‚¬ìš©ì ì¹œí™”ì  ë©”ì‹œì§€ ì‘ì„±
- [ ] ì—ëŸ¬ ì‹¬ê°ë„ ë ˆë²¨ ì„¤ì •
- [ ] ì¬ì‹œë„ ê°€ëŠ¥ ì—¬ë¶€ ì§€ì •
- [ ] ì—ëŸ¬ ë¡œê¹… êµ¬í˜„
- [ ] ë‹¤êµ­ì–´ ë²ˆì—­ ì¶”ê°€
- [ ] í…ŒìŠ¤íŠ¸: 400, 401, 403, 404, 500, 503 ë“±

## ğŸ“ ì§€ì›

ì—ëŸ¬ ì²˜ë¦¬ ê´€ë ¨ ë¬¸ì˜:
- support@example.com
- admin@example.com
