# 📅 날짜 필터 UI/UX 전략 및 구현 가이드

> 7개 날짜 필터를 효과적으로 구성하는 방법

---

## 📋 7개 날짜 필터 분석

| # | 필터명 | 용도 | 검색 패턴 | 우선순위 |
|---|--------|------|---------|---------|
| 1️⃣ | **상품 등록일자** | 신상품 파악 (언제 추가?) | 범위 검색 (필수) | ⭐⭐⭐⭐⭐ |
| 2️⃣ | **최종 수정일** | 업데이트 여부 확인 | 범위 검색 (필수) | ⭐⭐⭐⭐ |
| 3️⃣ | **상품 게시일자** | 공개 시점 추적 | 범위 검색 | ⭐⭐⭐ |
| 4️⃣ | **품절 일자** | 언제부터 품절? | 단일 선택 + 범위 | ⭐⭐⭐⭐ |
| 5️⃣ | **입고 예정일자** | 언제 입고될까? | 범위 검색 + 상태 | ⭐⭐⭐⭐⭐ |
| 6️⃣ | **입고 예정 설정일자** | 예정 설정 시점 | 범위 검색 | ⭐⭐ |
| 7️⃣ | **재고 등록일자** | 재고 시스템 기록 | 범위 검색 | ⭐⭐ |

---

## 🎯 그룹화 전략 (권장)

7개를 분류하면 **3개 그룹**으로 나뉩니다:

### Group 1️⃣: **상품 관리 날짜** (주요 - 항상 표시)
```
┌─────────────────────────────────────────┐
│ 📅 상품 관리                             │
├─────────────────────────────────────────┤
│ ┌─ 상품 등록일자                        │
│ │  [2025-01-01] ~ [2025-11-08]         │
│ │  ◀ 지난 3개월  지난 1년 ▶             │
│ │                                       │
│ ┌─ 최종 수정일                          │
│ │  [2025-09-01] ~ [2025-11-08]         │
│ │  ◀ 이번주  이번달 지난달 ▶            │
│ │                                       │
│ ┌─ 상품 게시일자                        │
│ │  [2025-02-01] ~ [2025-11-08]         │
│ │  ◀ 지난 1개월  직접입력 ▶             │
└─────────────────────────────────────────┘
```

### Group 2️⃣: **입고 관리 날짜** (중요 - 확장 가능)
```
┌─────────────────────────────────────────┐
│ 📦 입고 관리                             │
├─────────────────────────────────────────┤
│ ┌─ 입고 예정일자                        │
│ │  [2025-11-15] ~ [2025-12-31]         │
│ │  ◀ 이번주 내  지난주 ▶                │
│ │                                       │
│ ┌─ 입고 예정 설정일자                   │
│ │  [2025-10-01] ~ [2025-11-08]         │
│ │  ◀ 수동 설정 ▶                        │
└─────────────────────────────────────────┘
```

### Group 3️⃣: **상태 변경 날짜** (보조 - 필요시 표시)
```
┌─────────────────────────────────────────┐
│ ⚠️ 상태 변경                             │
├─────────────────────────────────────────┤
│ ┌─ 품절 일자                            │
│ │  [2025-08-15] ~ [현재]                │
│ │  ◀ 지난 1개월  ▶                      │
│ │                                       │
│ ┌─ 재고 등록일자                        │
│ │  [2025-01-01] ~ [2025-11-08]         │
└─────────────────────────────────────────┘
```

---

## 🎨 권장 UI 패턴 (Ant Design)

### 패턴 1: **프리셋 + 커스텀 범위** ⭐ (가장 효과적)

```typescript
// 상품 등록일자
[지난 1주] [지난 1개월] [지난 3개월] [지난 1년] | [직접 입력 ▼]

// 최종 수정일
[이번 주] [이번 달] [지난달] [지난 3개월] | [직접 입력 ▼]

// 품절 일자
[지난 1주] [지난 1개월] [지난 3개월] | [기간 선택 ▼]

특징:
✅ 자주 쓰는 필터 즉시 클릭 가능 (1초)
✅ 커스텀 필요시 드롭다운 (2초)
✅ 가독성 높음 (공간 효율적)
❌ 공간 차지 (높이 40px)
```

### 패턴 2: **직관적 범위 선택** ⭐⭐ (가장 깔끔)

```typescript
// 상품 등록일자
From: [2025-01-01] ─────────────────────── [2025-11-08]
       ◀ 오늘부터 3개월 ▶  [직접 입력 ▼]

특징:
✅ 매우 깔끔 (높이 32px)
✅ 직관적 범위 선택
✅ 프리셋 버튼 옵션 추가 가능
❌ 긴 날짜 표시 필요
```

### 패턴 3: **아코디언 + 탭** ⭐⭐⭐ (최고 권장)

```typescript
┌─────────────────────────────────────────┐
│ 📅 날짜 필터 [확장 ▼]                    │
├─────────────────────────────────────────┤
│ [상품관리] [입고관리] [상태변경]         │
├─────────────────────────────────────────┤
│ 📌 상품 관리                             │
│                                         │
│ • 상품 등록일자                          │
│   [2025-01-01] ~ [2025-11-08]          │
│   [지난3개월▼] [직접입력▼]              │
│                                         │
│ • 최종 수정일                            │
│   [2025-09-01] ~ [2025-11-08]          │
│   [이번달▼] [직접입력▼]                 │
│                                         │
│ • 상품 게시일자                          │
│   [2025-02-01] ~ [2025-11-08]          │
│   [지난1개월▼] [직접입력▼]              │
│                                         │
│ [필터 초기화] [필터 적용]                │
└─────────────────────────────────────────┘

특징:
✅ 전체 구조 명확 (3개 그룹)
✅ 확장/축소 가능 (공간 절약)
✅ 탭으로 관심 필터만 표시
✅ 우선순위 반영 (상품관리 먼저)
❌ 약간 복잡 (하지만 UX 최고)
```

---

## 💡 최종 추천: **하이브리드 모델** 🏆

**초기 상태:**
```
┌────────────────────────────────────────────────────┐
│ 🔽 날짜 필터 (4개 필터 선택 중)                      │
├────────────────────────────────────────────────────┤
│ 📌 상품 등록일자: [지난3개월]  [초기화]             │
│ 📌 입고 예정일자: [미설정]      [초기화]             │
│ 📌 최종 수정일:  [이번달]      [초기화]             │
│ ⭕ 5개 필터 더보기...                               │
│                                                    │
│                    [필터 적용]                      │
└────────────────────────────────────────────────────┘
```

**확장 상태:**
```
┌────────────────────────────────────────────────────┐
│ 🔼 날짜 필터 (모든 필터 표시)                        │
├────────────────────────────────────────────────────┤
│ 📅 상품 관리                                        │
│ ├─ 상품 등록일자: [2025-01-01~2025-11-08]         │
│ │                 [지난3개월▼] [달력▼]             │
│ ├─ 최종 수정일:   [2025-09-01~2025-11-08]         │
│ │                 [이번달▼] [달력▼]                │
│ └─ 상품 게시일자: [2025-02-01~2025-11-08]         │
│                  [지난1개월▼] [달력▼]              │
│                                                    │
│ 📦 입고 관리                                        │
│ ├─ 입고 예정일자: [미설정]                          │
│ │                 [설정▼] [달력▼]                  │
│ └─ 입고예정설정일: [2025-10-01~2025-11-08]        │
│                  [수동설정▼] [달력▼]               │
│                                                    │
│ ⚠️ 상태 변경                                        │
│ ├─ 품절 일자:    [미설정]                           │
│ │                [설정▼] [달력▼]                   │
│ └─ 재고 등록일자: [2025-01-01~2025-11-08]         │
│                  [전체▼] [달력▼]                   │
│                                                    │
│ [필터 초기화]              [필터 적용]              │
└────────────────────────────────────────────────────┘
```

---

## 🎯 프리셋 버튼 전략

### 각 날짜별 추천 프리셋

#### 📌 상품 등록일자 (신상품 파악)
```
[오늘] [지난 1주] [지난 1개월] [지난 3개월] [지난 1년] [전체]
        ↓           ↓            ↓            ↓         ↓
      -7일        -30일        -90일        -365일    시작
```

#### 📌 최종 수정일 (최근 변경 상품)
```
[오늘] [이번 주] [이번 달] [지난 달] [지난 3개월] [전체]
        ↓         ↓         ↓        ↓           ↓
      월~일    1~7일     1~말일   전월 모두    시작
```

#### 📌 입고 예정일자 (가장 중요!)
```
[오늘] [내일] [이번 주] [다음 주] [이번 달] [전체]
       ↓     ↓      ↓       ↓        ↓      ↓
     +1일  +7일   +14일   +30일    현재~
```

#### 📌 품절 일자
```
[오늘] [이번 주] [이번 달] [지난 3개월] [모든 품절상품]
      ↓      ↓        ↓          ↓            ↓
    -0~1   -7~0     -30~0     -90~0      status='sold_out'
```

---

## 🔧 기술 구현 전략

### 1️⃣ 상태 관리 구조
```typescript
interface DateFilterState {
  // 그룹 1: 상품 관리
  productRegistrationDate: {
    type: 'preset' | 'custom' | 'all'      // 선택 유형
    preset: '1week' | '1month' | '3months' | '1year'
    customRange: [Date, Date]                // 커스텀 날짜
  }
  lastModifiedDate: {
    type: 'preset' | 'custom' | 'all'
    preset: 'today' | 'thisweek' | 'thismonth' | 'lastmonth'
    customRange: [Date, Date]
  }
  productPublishDate: { ... }
  
  // 그룹 2: 입고 관리
  expectedInboundDate: {
    type: 'notset' | 'preset' | 'custom'
    preset: 'today' | 'tomorrow' | 'thisweek' | 'nextweek'
    customRange: [Date, Date]
  }
  poSettingDate: { ... }
  
  // 그룹 3: 상태 변경
  soldOutDate: {
    type: 'notset' | 'preset' | 'custom'
    preset: 'thisweek' | 'thismonth' | 'alltime'
    customRange: [Date, Date]
  }
  stockRegistrationDate: { ... }
}
```

### 2️⃣ 필터 로직 (TypeScript)
```typescript
const applyDateFilters = (items: InventoryItem[], filters: DateFilterState) => {
  return items.filter(item => {
    // 상품 등록일자
    if (!checkDateRange(item.productRegistrationDate, filters.productRegistrationDate)) {
      return false
    }
    
    // 최종 수정일
    if (!checkDateRange(item.lastModifiedDate, filters.lastModifiedDate)) {
      return false
    }
    
    // 입고 예정일자 (미설정 상품도 포함 여부)
    if (filters.expectedInboundDate.type !== 'notset') {
      if (!item.expectedPoDate) return false
      if (!checkDateRange(item.expectedPoDate, filters.expectedInboundDate)) {
        return false
      }
    }
    
    // 기타 날짜 필터...
    
    return true
  })
}

const checkDateRange = (itemDate: Date | null, filter: DateFilterConfig): boolean => {
  if (filter.type === 'all' || !itemDate) return true
  
  const [startDate, endDate] = getDateRange(filter)
  return itemDate >= startDate && itemDate <= endDate
}

const getDateRange = (filter: DateFilterConfig): [Date, Date] => {
  const today = new Date()
  
  switch (filter.preset) {
    case '1week':
      return [addDays(today, -7), today]
    case '1month':
      return [addMonths(today, -1), today]
    case 'thismonth':
      return [startOfMonth(today), endOfMonth(today)]
    case 'custom':
      return filter.customRange
    default:
      return [new Date(0), today]
  }
}
```

### 3️⃣ 컴포넌트 구조
```
FilterPanel.tsx (최상위)
├─ DateFilterGroup.tsx (그룹별)
│  ├─ DateRangeFilter.tsx (개별 필터)
│  │  ├─ PresetButtons.tsx (프리셋 버튼들)
│  │  └─ DateRangePicker.tsx (달력 선택)
│  └─ FilterActions.tsx (초기화/적용)
└─ FilterSummary.tsx (선택 요약)
```

---

## 📊 사용자 경험 흐름

### 시나리오 1: 빠른 검색 (5초)
```
1. "최근 변경된 상품 보고 싶어"
   → [최종 수정일] 탭에서 [이번달] 클릭
   → [필터 적용] 버튼 클릭
   ✅ 완료
```

### 시나리오 2: 정확한 날짜 검색 (15초)
```
1. "9월~10월 사이에 등록된 상품"
   → [상품 등록일자] 확장
   → [직접 입력] 드롭다운
   → 2025-09-01 ~ 2025-10-31 선택
   → [필터 적용]
   ✅ 완료
```

### 시나리오 3: 복합 필터 검색 (30초)
```
1. "최근 수정되고 가까운 시일에 입고될 상품"
   → [최종 수정일] [이번달] 선택
   → [입고 예정일자] [이번 주] 선택
   → [필터 적용]
   ✅ 완료
```

---

## ✅ UI/UX 체크리스트

- [x] 7개 필터 → 3개 그룹으로 정리
- [x] 우선순위 반영 (상품관리 > 입고관리 > 상태변경)
- [x] 프리셋 버튼 제공 (1초 검색)
- [x] 커스텀 범위 가능 (달력 선택)
- [x] 확장/축소 가능 (공간 절약)
- [x] 필터 상태 요약 표시
- [x] 초기화/적용 버튼 분리
- [x] 모바일 반응형 고려
- [x] 접근성 고려 (ARIA 레이블)
- [x] 선택 피드백 (토스트/스낵바)

---

## 🎨 색상 코딩

```typescript
// 날짜 필터 그룹별 색상
const GROUP_COLORS = {
  productManagement: '#1890ff',    // 파랑 (상품관리)
  inboundManagement: '#52c41a',    // 초록 (입고관리)
  statusChange: '#faad14',         // 주황 (상태변경)
}

// 날짜 상태별 색상
const DATE_STATUS_COLORS = {
  notSet: '#d9d9d9',              // 회색 (미설정)
  recent: '#1890ff',              // 파랑 (최근)
  upcoming: '#52c41a',            // 초록 (예정)
  old: '#faad14',                 // 주황 (오래됨)
  expired: '#f5222d',             // 빨강 (만료됨)
}
```

---

## 📱 반응형 디자인

```typescript
// 모바일 (<768px)
┌──────────────────────────┐
│ 🔽 날짜 필터 (3개 선택)   │
├──────────────────────────┤
│ 📌 상품 등록일자         │
│ [지난3개월▼] [달력▼]     │
│                          │
│ 📌 입고 예정일자         │
│ [미설정▼] [달력▼]       │
│                          │
│ [초기화] [적용]          │
└──────────────────────────┘

// 태블릿 (768px~1200px)
┌────────────────────────────────────────┐
│ 🔽 날짜 필터 (5개 필터 선택 중)         │
├────────────────────────────────────────┤
│ 📌 상품 등록일자: [지난3개월▼] [달력▼]│
│ 📌 최종 수정일:   [이번달▼]   [달력▼] │
│ 📌 입고 예정일자: [미설정▼]   [달력▼] │
│ ⭕ 4개 필터 더보기...                  │
│                    [초기화] [적용]      │
└────────────────────────────────────────┘

// 데스크톱 (>1200px)
┌────────────────────────────────────────────────────┐
│ 📅 날짜 필터 (모든 필터 표시)                        │
├────────────────────────────────────────────────────┤
│ [상품관리] [입고관리] [상태변경] (탭)               │
│                                                    │
│ 📌 상품 등록일자: [지난3개월▼] [달력▼]            │
│ 📌 최종 수정일:   [이번달▼]    [달력▼]            │
│ 📌 상품 게시일자: [지난1개월▼] [달력▼]            │
│                                                    │
│                 [필터 초기화] [필터 적용]           │
└────────────────────────────────────────────────────┘
```

---

## 🚀 다음 단계

1. **DateRangeFilter 컴포넌트** 구현 (다음 파일)
2. **FilterPanel.tsx** 에 통합
3. **page.tsx** 에서 필터 적용
4. **테이블 데이터** 필터링 로직
5. **성능 최적화** (메모이제이션)

